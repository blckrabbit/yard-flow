import Designer,{Item,ItemPanel,Flow} from "../../dist";
import React, {Component} from "react";
import {Button,Modal,Dropdown,Menu} from 'antd'
import 'antd/dist/antd.less';
let graph=null;
class Demo extends Component {
  constructor(props){
    super(props);
    this.wfdRef = React.createRef();
    this.pageRef = React.createRef();
  }

  state = {
    modalVisible: false,
    selectedLang: 'zh',
  };

  langMenu = (
    <Menu onClick={(lang)=>{this.changeLang(lang)}}>
      <Menu.Item key="zh">
            <span role="img" >
              {"ğŸ‡¨ğŸ‡³"}
            </span>
        {" ç®€ä½“ä¸­æ–‡"}
      </Menu.Item>
      <Menu.Item key="en">
            <span role="img" >
              {"ğŸ‡¬ğŸ‡§"}
            </span>
        {" English"}
      </Menu.Item>
    </Menu>
  );

  componentDidMount(){
    setTimeout(()=>{
      const nodes = graph.graph.getNodes();
      if(nodes && nodes.length>0)
        window.cb.events.trigger('__selectNode',nodes[0]);
    },300)
    
  }

  handleModalVisible(modalVisible){
    this.setState({modalVisible})
  }

  changeLang({key}){
    this.setState({selectedLang:key})
  }

  render(){
    let data = {
      nodes: [
        // { id: 'startNode1', x: 50, y: 200, label: '', clazz: 'start', },
        // { id: 'startNode2', x: 50, y: 320, label: '', clazz: 'timerStart', },
        { id: 'taskNode1',x: 50, y: 320,label: 'ä¸»ä»»å®¡æ‰¹', clazz: 'userTask',size:[150,45]  },
        { id: 'taskNode2',x: 100, y: 320,label: 'ç»ç†å®¡æ‰¹', clazz: 'scriptTask',  },
        // { id: 'gatewayNode', x: 400, y: 320, label: 'é‡‘é¢å¤§äº1000', clazz: 'inclusiveGateway',  },
        { id: 'taskNode3',x: 50, y: 320,label: 'è‘£äº‹é•¿å®¡æ‰¹', clazz: 'receiveTask', },
        // { id: 'catchNode1', x: 600, y: 200, label: 'ç­‰å¾…ç»“æŸ', clazz: 'signalCatch', },
        // { id: 'endNode', x: 600, y: 320, label: '', clazz: 'end', }
      ],
      edges: [
        // { source: 'startNode1', target: 'taskNode1', sourceAnchor:1, targetAnchor:3, clazz: 'flow' },
        // { source: 'startNode2', target: 'gatewayNode', sourceAnchor:1, targetAnchor:3, clazz: 'flow' },
        // { source: 'taskNode1', target: 'catchNode1', sourceAnchor:0, targetAnchor:0, clazz: 'flow' },
        // // { source: 'taskNode1', target: 'taskNode2', sourceAnchor:1, targetAnchor:3, clazz: 'flow' },
        // { source: 'taskNode2', target: 'gatewayNode', sourceAnchor:1, targetAnchor:0, clazz: 'flow' },
        { source: 'taskNode1', target: 'taskNode2', sourceAnchor:2, targetAnchor:2, clazz: 'flow' },
        // { source: 'gatewayNode', target: 'taskNode3', sourceAnchor:2, targetAnchor:0, clazz: 'flow' },
        // { source: 'gatewayNode', target: 'endNode', sourceAnchor:1, targetAnchor:2, clazz: 'flow'},
        // { source: 'taskNode3', target: 'endNode', sourceAnchor:1, targetAnchor:1, clazz: 'flow' },
        // { source: 'catchNode1', target: 'endNode', sourceAnchor:1, targetAnchor:0, clazz: 'flow' }
      ]
    };

	data = {"nodes":[{"id":"473250599484274689","appName":"app","name":"input","streamId":"473250929022351360","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","entityName":"dw@app@order@agjjjpxi","entityCaption":null,"nodeId":"473250599484274689","parentId":"473250599484274690","items":[{"id":"com.seeyon.ctp.user.domain.entity.Order.id","fieldName":"id","fieldIndexName":"app@order@id","caption":"ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.orderDate","fieldName":"date","fieldIndexName":"app@order@date","caption":"ä¸‹å•æ—¥æœŸ","fieldType":"DIMENSION","fieldDataType":"DATE","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId","fieldName":"goods_id","fieldIndexName":"app@order@goods_id","caption":"å•†å“id","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsNum","fieldName":"goods_num","fieldIndexName":"app@order@goods_num","caption":"å•†å“æ•°é‡","fieldType":"MEASURE","fieldDataType":"INTEGER","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.amountMoney","fieldName":"amount_money","fieldIndexName":"app@order@amount_money","caption":"æŠ˜å‰æ€»é¢","fieldType":"MEASURE","fieldDataType":"DOUBLE","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.discount","fieldName":"discount","fieldIndexName":"app@order@discount","caption":"æŠ˜æ‰£","fieldType":"MEASURE","fieldDataType":"DOUBLE","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.amountActually","fieldName":"amount_actually","fieldIndexName":"app@order@amount_actually","caption":"å®ä»˜é‡‘é¢","fieldType":"MEASURE","fieldDataType":"DOUBLE","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.discountMoney","fieldName":"discount_money","fieldIndexName":"app@order@discount_money","caption":"æŠ˜æ‰£é‡‘é¢","fieldType":"MEASURE","fieldDataType":"DOUBLE","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.salesManagerId","fieldName":"sales_manager_id","fieldIndexName":"app@order@sales_manager_id","caption":"é”€å”®ç»ç†id","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId","fieldName":"customer_id","fieldIndexName":"app@order@customer_id","caption":"å®¢æˆ·id","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId@com.seeyon.ctp.user.domain.entity.GoodsAll.id","fieldName":"id","fieldIndexName":"app@goods@goods_id@id","caption":"å•†å“è¡¨_ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"å•†å“è¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.GoodsAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"goods","sourceTableNameCaption":"å•†å“è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId@com.seeyon.ctp.user.domain.entity.GoodsAll.goodsName","fieldName":"goods_name","fieldIndexName":"app@goods@goods_id@goods_name","caption":"å•†å“è¡¨_å•†å“åç§°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"å•†å“è¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.GoodsAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"goods","sourceTableNameCaption":"å•†å“è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId@com.seeyon.ctp.user.domain.entity.GoodsAll.goodsType","fieldName":"goods_type","fieldIndexName":"app@goods@goods_id@goods_type","caption":"å•†å“è¡¨_å•†å“ç±»å‹","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"å•†å“è¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.GoodsAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"goods","sourceTableNameCaption":"å•†å“è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId@com.seeyon.ctp.user.domain.entity.GoodsAll.goodsPrice","fieldName":"goods_price","fieldIndexName":"app@goods@goods_id@goods_price","caption":"å•†å“è¡¨_å•†å“å•ä»·","fieldType":"MEASURE","fieldDataType":"DOUBLE","folderName":"å•†å“è¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.GoodsAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"goods","sourceTableNameCaption":"å•†å“è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId@com.seeyon.ctp.user.domain.entity.GoodsAll.description","fieldName":"description","fieldIndexName":"app@goods@goods_id@description","caption":"å•†å“è¡¨_å•†å“æè¿°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"å•†å“è¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.GoodsAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"goods","sourceTableNameCaption":"å•†å“è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.salesManagerId@com.seeyon.ctp.user.domain.entity.OrgMemberAll.id","fieldName":"id","fieldIndexName":"app@org_member@sales_manager_id@id","caption":"äººå‘˜è¡¨_ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"äººå‘˜è¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.salesManagerId@com.seeyon.ctp.user.domain.entity.OrgMemberAll.name","fieldName":"name","fieldIndexName":"app@org_member@sales_manager_id@name","caption":"äººå‘˜è¡¨_äººå‘˜åç§°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"äººå‘˜è¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.salesManagerId@com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId","fieldName":"region","fieldIndexName":"app@org_member@sales_manager_id@region","caption":"äººå‘˜è¡¨_æ‰€å±åŒºåŸŸ","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"äººå‘˜è¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId@com.seeyon.ctp.user.domain.entity.Customer.id","fieldName":"id","fieldIndexName":"app@customer@customer_id@id","caption":"å®¢æˆ·_ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"å®¢æˆ·","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Customer","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"customer","sourceTableNameCaption":"å®¢æˆ·"},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId@com.seeyon.ctp.user.domain.entity.Customer.name","fieldName":"name","fieldIndexName":"app@customer@customer_id@name","caption":"å®¢æˆ·_å®¢æˆ·åç§°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"å®¢æˆ·","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Customer","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"customer","sourceTableNameCaption":"å®¢æˆ·"},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId@com.seeyon.ctp.user.domain.entity.Customer.address","fieldName":"address","fieldIndexName":"app@customer@customer_id@address","caption":"å®¢æˆ·_å®¢æˆ·åœ°å€","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"å®¢æˆ·","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Customer","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"customer","sourceTableNameCaption":"å®¢æˆ·"},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId@com.seeyon.ctp.user.domain.entity.Customer.contactInfo","fieldName":"contact_info","fieldIndexName":"app@customer@customer_id@contact_info","caption":"å®¢æˆ·_è”ç³»æ–¹å¼","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"å®¢æˆ·","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Customer","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"customer","sourceTableNameCaption":"å®¢æˆ·"},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId@com.seeyon.ctp.user.domain.entity.Customer.region","fieldName":"region","fieldIndexName":"app@customer@customer_id@region","caption":"å®¢æˆ·_æ‰€å±åŒºåŸŸ","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"å®¢æˆ·","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Customer","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"customer","sourceTableNameCaption":"å®¢æˆ·"}],"tableName":"order","tableType":"MAIN","stereotype":"BILL","joinEntityNames":[{"targetEntityName":"com.seeyon.ctp.user.domain.entity.Order","sourceEntityName":"com.seeyon.ctp.user.domain.entity.GoodsAll","sourceTableName":"goods","targetTableName":"order","sourceAttribute":"id","targetAttribute":"goods_id","relationType":"ASSOCIATION"},{"targetEntityName":"com.seeyon.ctp.user.domain.entity.Order","sourceEntityName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","sourceTableName":"org_member","targetTableName":"order","sourceAttribute":"id","targetAttribute":"sales_manager_id","relationType":"ASSOCIATION"},{"targetEntityName":"com.seeyon.ctp.user.domain.entity.Order","sourceEntityName":"com.seeyon.ctp.user.domain.entity.Customer","sourceTableName":"customer","targetTableName":"order","sourceAttribute":"id","targetAttribute":"customer_id","relationType":"ASSOCIATION"}],"realId":"473250599484274689","nodeType":"INPUT","label":"æ–°å»ºä¸»é¢˜è¡¨","x":100,"y":120,"size":[150,45]},{"id":"473250599484274690","appName":"app","name":"set_field","streamId":"473250929022351360","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","entityName":"dw@app@order@agjjjpxi","entityCaption":null,"nodeId":"473250599484274690","parentId":"115145601014437941","items":[{"id":"com.seeyon.ctp.user.domain.entity.Order.id","fieldName":"id","fieldIndexName":"app@order@id","caption":"ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.orderDate","fieldName":"date","fieldIndexName":"app@order@date","caption":"ä¸‹å•æ—¥æœŸ","fieldType":"DIMENSION","fieldDataType":"DATE","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId","fieldName":"goods_id","fieldIndexName":"app@order@goods_id","caption":"å•†å“id","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsNum","fieldName":"goods_num","fieldIndexName":"app@order@goods_num","caption":"å•†å“æ•°é‡","fieldType":"MEASURE","fieldDataType":"INTEGER","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"}],"setFieldList":[{"id":"checkall","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.amountMoney","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.discount","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.amountActually","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.discountMoney","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.salesManagerId","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId@com.seeyon.ctp.user.domain.entity.GoodsAll.id","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId@com.seeyon.ctp.user.domain.entity.GoodsAll.goodsName","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId@com.seeyon.ctp.user.domain.entity.GoodsAll.goodsType","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId@com.seeyon.ctp.user.domain.entity.GoodsAll.goodsPrice","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsId@com.seeyon.ctp.user.domain.entity.GoodsAll.description","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.salesManagerId@com.seeyon.ctp.user.domain.entity.OrgMemberAll.id","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.salesManagerId@com.seeyon.ctp.user.domain.entity.OrgMemberAll.name","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.salesManagerId@com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId@com.seeyon.ctp.user.domain.entity.Customer.id","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId@com.seeyon.ctp.user.domain.entity.Customer.name","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId@com.seeyon.ctp.user.domain.entity.Customer.address","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId@com.seeyon.ctp.user.domain.entity.Customer.contactInfo","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.customerId@com.seeyon.ctp.user.domain.entity.Customer.region","reName":null,"fieldType":null,"setFieldsTypeEnum":"HIDDEN","formula":null,"fields":null}],"realId":"473250599484274690","nodeType":"SET_FIELD","label":"å­—æ®µè®¾ç½®","x":350,"y":120,"size":[150,45]},{"id":"115145601014437941","appName":null,"name":"group_agg","streamId":"473250929022351360","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","entityName":"dw@app@order@agjjjpxi","entityCaption":null,"nodeId":"115145601014437941","parentId":"112824977111191241","items":[{"id":"com.seeyon.ctp.user.domain.entity.Order.orderDate","fieldName":"date","fieldIndexName":"app@order@date@group","caption":"ä¸‹å•æ—¥æœŸ","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsNum","fieldName":"goods_num","fieldIndexName":"app@order@goods_num@summary","caption":"å•†å“æ•°é‡","fieldType":"MEASURE","fieldDataType":"DOUBLE","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"}],"fields":[{"id":"com.seeyon.ctp.user.domain.entity.Order.orderDate","fieldName":null,"fieldIndexName":"app@order@date","caption":null,"fieldType":null,"fieldDataType":null,"folderName":null,"relationType":null,"entityFullName":null,"formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":null,"sourceTableName":null,"sourceTableNameCaption":null,"name":"ä¸‹å•æ—¥æœŸ","operatorTypeEnum":"GROUP","dataTypeEnum":"DATETYPE","groupTypeEnum":"DAY","summaryType":null},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsNum","fieldName":null,"fieldIndexName":"app@order@goods_num","caption":null,"fieldType":null,"fieldDataType":null,"folderName":null,"relationType":null,"entityFullName":null,"formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":null,"sourceTableName":null,"sourceTableNameCaption":null,"name":"å•†å“æ•°é‡","operatorTypeEnum":"SUMMARY","dataTypeEnum":"NUMTYPE","groupTypeEnum":null,"summaryType":"SUM"}],"realId":"115145601014437941","nodeType":"GROUP_AGG","label":"åˆ†ç»„æ±‡æ€»","x":600,"y":120,"size":[150,45]},{"id":"473394272113014785","appName":"app","name":"input","streamId":"473250929022351360","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","entityName":"dw@app@org_member@hpsj1grq","entityCaption":null,"nodeId":"473394272113014785","parentId":"112824977111191241","items":[{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.id","fieldName":"id","fieldIndexName":"app@org_member@id","caption":"ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"äººå‘˜è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.name","fieldName":"name","fieldIndexName":"app@org_member@name","caption":"äººå‘˜åç§°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"äººå‘˜è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId","fieldName":"region","fieldIndexName":"app@org_member@region","caption":"æ‰€å±åŒºåŸŸ","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"äººå‘˜è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.id","fieldName":"id","fieldIndexName":"app@region@region@id","caption":"åŒºåŸŸè¡¨_ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"åŒºåŸŸè¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.name","fieldName":"name","fieldIndexName":"app@region@region@name","caption":"åŒºåŸŸè¡¨_åŒºåŸŸåç§°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"åŒºåŸŸè¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.chiefManager","fieldName":"chiefManager","fieldIndexName":"app@region@region@chiefManager","caption":"åŒºåŸŸè¡¨_åŒºåŸŸä¸»ç®¡","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"åŒºåŸŸè¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.pid","fieldName":"pid","fieldIndexName":"app@region@region@pid","caption":"åŒºåŸŸè¡¨_çˆ¶çº§ID","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"åŒºåŸŸè¡¨","relationType":"ASSOCIATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"}],"tableName":"org_member","tableType":"NORMAL","stereotype":"ARCHIVE","joinEntityNames":[{"targetEntityName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","sourceEntityName":"com.seeyon.ctp.user.domain.entity.Region","sourceTableName":"region","targetTableName":"org_member","sourceAttribute":"id","targetAttribute":"region","relationType":"ASSOCIATION"}],"realId":"473394272113014785","nodeType":"INPUT","label":"äººå‘˜è¡¨","x":100,"y":340,"size":[150,45]},{"id":"112824977111191241","appName":null,"name":"join","streamId":"473250929022351360","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","entityName":"dw@app@order@agjjjpxi","entityCaption":null,"nodeId":"112824977111191241","parentId":"473250599484274692","items":[{"id":"com.seeyon.ctp.user.domain.entity.Order.orderDate","fieldName":"date","fieldIndexName":"app@order@date@group@group","caption":"ä¸‹å•æ—¥æœŸ","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.id","fieldName":"id","fieldIndexName":"app@org_member@id","caption":"äººå‘˜è¡¨_ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"äººå‘˜è¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.name","fieldName":"name","fieldIndexName":"app@org_member@name","caption":"äººå‘˜è¡¨_äººå‘˜åç§°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"äººå‘˜è¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId","fieldName":"region","fieldIndexName":"app@org_member@region","caption":"äººå‘˜è¡¨_æ‰€å±åŒºåŸŸ","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"äººå‘˜è¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.id","fieldName":"id","fieldIndexName":"app@region@region@id","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.name","fieldName":"name","fieldIndexName":"app@region@region@name","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_åŒºåŸŸåç§°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.chiefManager","fieldName":"chiefManager","fieldIndexName":"app@region@region@chiefManager","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_åŒºåŸŸä¸»ç®¡","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.pid","fieldName":"pid","fieldIndexName":"app@region@region@pid","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_çˆ¶çº§ID","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"}],"leftEntity":[{"id":"com.seeyon.ctp.user.domain.entity.Order.orderDate","fieldName":"date","fieldIndexName":"app@order@date@group@group","caption":"ä¸‹å•æ—¥æœŸ","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.Order.goodsNum","fieldName":"goods_num","fieldIndexName":"app@order@goods_num@summary@summary","caption":"å•†å“æ•°é‡","fieldType":"MEASURE","fieldDataType":"DOUBLE","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨"}],"leftEntityName":"åˆ†ç»„æ±‡æ€»","leftParentNodeId":"115145601014437941","rightEntity":[{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.id","fieldName":"id","fieldIndexName":"app@org_member@id","caption":"äººå‘˜è¡¨_ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"äººå‘˜è¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.name","fieldName":"name","fieldIndexName":"app@org_member@name","caption":"äººå‘˜è¡¨_äººå‘˜åç§°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"äººå‘˜è¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId","fieldName":"region","fieldIndexName":"app@org_member@region","caption":"äººå‘˜è¡¨_æ‰€å±åŒºåŸŸ","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"äººå‘˜è¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.id","fieldName":"id","fieldIndexName":"app@region@region@id","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.name","fieldName":"name","fieldIndexName":"app@region@region@name","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_åŒºåŸŸåç§°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.chiefManager","fieldName":"chiefManager","fieldIndexName":"app@region@region@chiefManager","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_åŒºåŸŸä¸»ç®¡","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.pid","fieldName":"pid","fieldIndexName":"app@region@region@pid","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_çˆ¶çº§ID","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨"}],"rightEntityName":"äººå‘˜è¡¨","rightParentNodeId":"473394272113014785","joinType":"INNER","isMerge":true,"joins":[{"leftFieldId":"com.seeyon.ctp.user.domain.entity.Order.goodsNum","leftFieldIndexName":"app@order@goods_num@summary@summary","leftFieldName":"goods_num","rightFieldId":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.id","rightFieldIndexName":"app@region@region@id","rightFieldName":"id"}],"realId":"112824977111191241","nodeType":"JOIN","label":"å…³è”","x":350,"y":120,"size":[150,45]},{"id":"473250599484274692","appName":"app","name":"output","streamId":"473250929022351360","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","entityName":"dw@app@order@agjjjpxi","entityCaption":null,"nodeId":"473250599484274692","parentId":"473250599484274694","items":[{"id":"com.seeyon.ctp.user.domain.entity.Order.orderDate","fieldName":"date","fieldIndexName":"app@order@date@group@group","caption":"ä¸‹å•æ—¥æœŸ","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"è®¢å•è¡¨ä¸»è¡¨","relationType":"NO_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Order","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@order@agjjjpxi","sourceTableName":"order","sourceTableNameCaption":"è®¢å•è¡¨ä¸»è¡¨","title":"ä¸‹å•æ—¥æœŸ","key":"com.seeyon.ctp.user.domain.entity.Order.orderDate"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.id","fieldName":"id","fieldIndexName":"app@org_member@id","caption":"äººå‘˜è¡¨_ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"äººå‘˜è¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨","title":"äººå‘˜è¡¨_ä¸»é”®","key":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.id"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.name","fieldName":"name","fieldIndexName":"app@org_member@name","caption":"äººå‘˜è¡¨_äººå‘˜åç§°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"äººå‘˜è¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨","title":"äººå‘˜è¡¨_äººå‘˜åç§°","key":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.name"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId","fieldName":"region","fieldIndexName":"app@org_member@region","caption":"äººå‘˜è¡¨_æ‰€å±åŒºåŸŸ","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"äººå‘˜è¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.OrgMemberAll","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"org_member","sourceTableNameCaption":"äººå‘˜è¡¨","title":"äººå‘˜è¡¨_æ‰€å±åŒºåŸŸ","key":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.id","fieldName":"id","fieldIndexName":"app@region@region@id","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_ä¸»é”®","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨","title":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_ä¸»é”®","key":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.id"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.name","fieldName":"name","fieldIndexName":"app@region@region@name","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_åŒºåŸŸåç§°","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨","title":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_åŒºåŸŸåç§°","key":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.name"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.chiefManager","fieldName":"chiefManager","fieldIndexName":"app@region@region@chiefManager","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_åŒºåŸŸä¸»ç®¡","fieldType":"DIMENSION","fieldDataType":"STRING","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨","title":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_åŒºåŸŸä¸»ç®¡","key":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.chiefManager"},{"id":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.pid","fieldName":"pid","fieldIndexName":"app@region@region@pid","caption":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_çˆ¶çº§ID","fieldType":"MEASURE","fieldDataType":"LONG","folderName":"åŒºåŸŸè¡¨","relationType":"HAVE_RELATION","entityFullName":"com.seeyon.ctp.user.domain.entity.Region","formula":false,"expression":null,"expressionGroovy":null,"tableIndexName":"dw@app@org_member@hpsj1grq","sourceTableName":"region","sourceTableNameCaption":"åŒºåŸŸè¡¨","title":"åŒºåŸŸè¡¨_åŒºåŸŸè¡¨_çˆ¶çº§ID","key":"com.seeyon.ctp.user.domain.entity.OrgMemberAll.regionId@com.seeyon.ctp.user.domain.entity.Region.pid"}],"stereotype":"BILL","realId":"473250599484274692","nodeType":"OUTPUT","label":"è¾“å‡ºèŠ‚ç‚¹","x":600,"y":120,"size":[150,45]}],"edges":[{"beginIds":"473250599484274689","endId":"473250599484274690","source":"473250599484274689","target":"473250599484274690"},{"beginIds":"473250599484274690","endId":"115145601014437941","source":"473250599484274690","target":"115145601014437941"},{"beginIds":"115145601014437941","endId":"112824977111191241","source":"115145601014437941","target":"112824977111191241"},{"beginIds":"473394272113014785","endId":"112824977111191241","source":"473394272113014785","target":"112824977111191241"},{"beginIds":"112824977111191241","endId":"473250599484274692","source":"112824977111191241","target":"473250599484274692"}]};	

    const data1 = {
      nodes: [{ id: 'startNode1', x: 50, y: 200, label: '', clazz: 'start', },
        { id: 'startNode2', x: 50, y: 320, label: '', clazz: 'timerStart', },
        { id: 'taskNode1', x: 200, y: 200, label: 'ä¸»ä»»å®¡æ‰¹', clazz: 'userTask',size:'180*90'  },
        { id: 'taskNode2', x: 400, y: 200, label: 'ç»ç†å®¡æ‰¹', clazz: 'scriptTask', active:true },
        { id: 'gatewayNode', x: 400, y: 320, label: 'é‡‘é¢å¤§äº1000', clazz: 'gateway',  },
        { id: 'taskNode3', x: 400, y: 450, label: 'è‘£äº‹é•¿å®¡æ‰¹', clazz: 'receiveTask', },
        { id: 'catchNode1', x: 600, y: 200, label: 'ç­‰å¾…ç»“æŸ', clazz: 'signalCatch', },
        { id: 'endNode', x: 600, y: 320, label: '', clazz: 'end', }],
      edges: [{ source: 'startNode1', target: 'taskNode1', sourceAnchor:1, targetAnchor:3, clazz: 'flow' },
        { source: 'startNode2', target: 'gatewayNode', sourceAnchor:1, targetAnchor:3, clazz: 'flow' },
        { source: 'taskNode1', target: 'catchNode1', sourceAnchor:0, targetAnchor:0, clazz: 'flow' },
        { source: 'taskNode1', target: 'taskNode2', sourceAnchor:1, targetAnchor:3, clazz: 'flow' },
        { source: 'taskNode2', target: 'gatewayNode', sourceAnchor:1, targetAnchor:0, clazz: 'flow' },
        { source: 'taskNode2', target: 'taskNode1', sourceAnchor:2, targetAnchor:2, clazz: 'flow' },
        { source: 'gatewayNode', target: 'taskNode3', sourceAnchor:2, targetAnchor:0, clazz: 'flow' },
        { source: 'gatewayNode', target: 'endNode', sourceAnchor:1, targetAnchor:2, clazz: 'flow'},
        { source: 'taskNode3', target: 'endNode', sourceAnchor:1, targetAnchor:1, clazz: 'flow' },
        { source: 'catchNode1', target: 'endNode', sourceAnchor:1, targetAnchor:0, clazz: 'flow' }]
    };

    const candidateUsers = [{id:'1',name:'Tom'},{id:'2',name:'Steven'},{id:'3',name:'Andy'}];
    const candidateGroups = [{id:'1',name:'Manager'},{id:'2',name:'Security'},{id:'3',name:'OA'}];
    const height = document.documentElement.clientHeight;
    console.log(height+'a2222---');
    const { modalVisible,selectedLang } = this.state;
    return (
      <div style={{height:'500px',width:'900px'}}>
        <Button style={{float:'right',marginTop:6,marginRight:6}} onClick={()=>this.wfdRef.current.graph.saveXML()}>å¯¼å‡ºXML</Button>
        <Button style={{float:'right',marginTop:6,marginRight:6}} onClick={()=>this.handleModalVisible(true)}>æŸ¥çœ‹æµç¨‹å›¾</Button>
        <Dropdown overlay={this.langMenu} trigger={['click']}>
          <Button style={{float:'right',marginTop:6,marginRight:10}} >è¯­è¨€</Button>
        </Dropdown>
        <Designer ref={this.wfdRef} setRef={(grf)=>{
          graph = grf;
          }} isViewMiniMap={true} height={500} >
          <ItemPanel>
            <>
              <Item className="item" model={"{clazz:'userTask',size:'120*44',label:'è¾“å…¥'}"}>
                  <img src={require('../../assets/flow/user-task.svg')} style={{width: 80, height: 44}}/>
                  <div>è¾“å…¥</div>
              </Item>
              <Item className="item" model={"{clazz:'subProcess',size:'120*44',label:'è¾“å‡º'}"}>
                  <img src={require('../../assets/flow/sub-process.svg')} style={{width: 80, height: 44}}/>
                  <div>è¾“å‡º</div>
              </Item>
              <Item className="item" model={"{clazz:'scriptTask',size:'120*44',label:'å­—æ®µè®¾ç½®'}"}>
                  <img src={require('../../assets/flow/script-task.svg')} style={{width: 80, height: 44}}/>
                  <div>å­—æ®µè®¾ç½®</div>
              </Item>
              <Item className="item" model={"{clazz:'groupTask',size:'120*44',label:'è¿‡æ»¤'}"}>
                  <img src={require('../../assets/flow/java-task.svg')} style={{width: 80, height: 44}}/>
                  <div>è¿‡æ»¤</div>
              </Item>
              <Item className="item" model={"{clazz:'mailTask',size:'120*44',label:'åˆ†ç»„æ±‡æ€»'}"}>
                  <img src={require('../../assets/flow/mail-task.svg')} style={{width: 80, height: 44}}/>
                  <div>åˆ†ç»„æ±‡æ€»</div>
              </Item>
              <Item className="item" model={"{clazz:'receiveTask',size:'120*44',label:'å…³è”'}"}>
                  <img src={require('../../assets/flow/receive-task.svg')} style={{width: 80, height: 44}}/>
                  <div>å…³è”</div>
              </Item>
            </>
          </ItemPanel>
          <Flow height={height} data={data}/>
        </Designer>
        <Modal title="æŸ¥çœ‹æµç¨‹å›¾" visible={modalVisible} onCancel={()=>this.handleModalVisible(false)} width={800} maskClosable={false} footer={null} destroyOnClose bodyStyle={{height}} >
          <Designer  height={500}  isView >
            <Flow height={height} data={data}/>
          </Designer>
        </Modal>
      </div>
    );
  }
}

export default Demo;
